!function($){"use strict";function t(t){this._attr={},void 0===t&&(t={}),this.playedInterval=t.playedInterval||t.interval||3e4,this.statsInterval=t.statsInterval||t.interval||5e3,this.host=t.host,this.port=parseInt(t.port,10)||8e3,this.stream=parseInt(t.stream,10)||1,this.stats_path=t.stats_path||"stats",this.played_path=t.played_path||"played",this._statsinterval=null,this._playedinterval=null,this._stats=t.stats||function(){},this._played=t.played||function(){}}if(t.prototype.get=function(t,s){return t?"undefined"!=typeof this._attr[t.toLowerCase()]?this._attr[t.toLowerCase()]:s:this._attr},t.prototype.stats=function(t){var a=this,e,i="http://"+this.host+":"+this.port+"/"+this.stats_path+"?sid="+this.stream+"&json=1";return null!==this._statsinterval&&(clearInterval(this._statsinterval),s.log("#### CLEAR INTERVAL STATSINTERVAL ####")),s.log("[this.host] = "+this.host),t=t||function(){},e=$.ajax({url:i,dataType:"jsonp",timeout:"5000"}),e.success(function(e){return s.log("Data retriven from feed. Checking if is json"),"object"!=typeof e||"undefined"==typeof e.streamstatus?(s.log("Data format is not correct, aborting"),void(a._status=0)):(a._status=1===e.streamstatus?2:1,s.log("Stream status = "+a._status),a._attr=e,a._attr.status=a.getStatusAsText(),t.call(a,a._attr),void a._stats(a._attr))}),e.error(function(){s.log("Error retriving the data via ajax."),null!==this._statsinterval&&(clearInterval(this._statsinterval),s.log("#### CLEAR INTERVAL STATSINTERVAL ####"))}),this},t.prototype.played=function(t){var a=this,e="http://"+this.host+":"+this.port+"/"+this.played_path+"?sid="+this.stream+"&type=json";return s.log("===================>"+e),$.ajax({url:e,dataType:"jsonp",timeout:2e3,success:function(s){!s instanceof Array||(t&&t.call(a,s),a._played(s))}}),this},t.prototype.startStats=function(){return s.log("\n =======  STOPPING STATS  ========= \n"),this.stats(),null!==this._statsinterval&&void 0!==this._statsinterval&&(s.log("Clearing stats interval this._statsinterval ===>"+this._statsinterval),clearInterval(this._statsinterval)),this._statsinterval=setInterval($.proxy(this.stats,this),this.statsInterval),this},t.prototype.stopStats=function(){return this._statsinterval&&clearInterval(this._statsinterval),this},t.prototype.startPlayed=function(){return this.stopPlayed(),this.played(),this._playedinterval=setInterval($.proxy(this.played,this),this.playedInterval),this},t.prototype.stopPlayed=function(){return this._playedinterval&&clearInterval(this._playedinterval),this},t.prototype.getStatus=function(){return this._status},t.prototype.getStatusAsText=function(){return["Offline","Awaiting Connection","On Air"][this._status]},t.prototype.onAir=function(){return 2===this._status},$.SHOUTcast=function(s){return new t(s)},!$("body").hasClass("qt-debug")){var s={};s.log=function(){},window.console=s}}(jQuery);